{{>index-top}}
<h1>게시글 등록</h1>

<div class="col-md-12">
  <div class="col-md-4">
    <form method="post" action="/upload" enctype="multipart/form-data">
      <div class="form-group">
        <label for="title">제목</label>
        <input type="text" class="form-control" id="title" placeholder="제목을 입력하세요">
      </div>
      <div class="form-group">
        <label for="author"> 작성자 </label>
        <input type="text" class="form-control" id="author" placeholder="작성자를 입력하세요">
      </div>
      <div class="form-group">
        <label for="content"> 내용 </label>
        <textarea class="form-control" id="content" placeholder="내용을 입력하세요"></textarea>
      </div>
      <div class="form-group">
        <label for="InputSubject1">파일첨부</label>
        <input multiple name="files" id="fileInput" type="file" data-class-button="btn btn-default" data-class-input="form-control"
               data-button-text="" data-icon-name="fa fa-upload" class="form-control" tabindex="-1"
               style="position: absolute; clip: rect(0px 0px 0px 0px);">
        <div class="bootstrap-filestyle input-group">
          <input type="text" id="userfile" class="form-control" name="userfile" disabled="">
          <span class="group-span-filestyle input-group-btn" tabindex="0">
            <label for="fileInput" class="btn btn-default">
              <span class="glyphicon fa fa-upload"></span>
            </label>
          </span>
        </div>
      </div>
      <a href="/" role="button" class="btn btn-secondary">취소</a>
      <button type="submit" class="btn btn-primary" id="btn-save">등록</button>
    </form>

  </div>
</div>
{{>index-bottom}}

<script type="text/javascript">
  $(document).ready(function() {
    let file;
    $("#fileInput").on('change', function() {
      if(window.FileReader) {
        var filename = $(this)[0].files[0].name;
        console.log($(this)[0].files[0]);
      } else {
        var filename = $(this).val().split('/').pop().split('\\').pop();
      }
      $("#userfile").val(filename);
    })
  })
</script>